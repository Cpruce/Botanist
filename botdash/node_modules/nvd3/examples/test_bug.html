<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <script type='text/javascript' src='https://code.jquery.com/jquery-2.1.3.js'></script>


    <script type='text/javascript' src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.js"></script>



    <script type='text/javascript' src="https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.8.1-alpha/nv.d3.js"></script>



    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.8.0-alpha/nv.d3.css">

</head>
<body>

<div id='chart1'>1</div>
<div id='chart2'>2</div>
<div id="text"></div>

<script>
    $(function(){

function make_svg(destination){
var container = d3.select(destination)
.append("svg")
.attr("width", 300)
.attr("height", 300);
console.log(container, destination);
return container;
}

(
function(){
var chart;
var chart_data;
nv.addGraph(function(){
strng = '[{"key":"Plot A","values":[{"x":3,"y":1},{"x":3,"y":3},{"x":5,"y":2},{"x":10,"y":4},{"x":0,"y":1},{"x":1,"y":0},{"x":1,"y":2},{"x":5,"y":9},{"x":3,"y":1},{"x":2,"y":2},{"x":1,"y":0},{"x":1,"y":0},{"x":2,"y":1},{"x":0,"y":6},{"x":10,"y":4},{"x":1,"y":1},{"x":1,"y":1},{"x":3,"y":1},{"x":1,"y":5},{"x":0,"y":1},{"x":1,"y":0},{"x":2,"y":2},{"x":1,"y":1},{"x":1,"y":0},{"x":1,"y":8},{"x":0,"y":1},{"x":0,"y":2},{"x":4,"y":5},{"x":1,"y":0},{"x":0,"y":1},{"x":8,"y":4},{"x":4,"y":5},{"x":1,"y":2},{"x":0,"y":1},{"x":1,"y":1},{"x":2,"y":2},{"x":3,"y":0},{"x":0,"y":1},{"x":1,"y":1},{"x":3,"y":1},{"x":3,"y":2},{"x":1,"y":1},{"x":1,"y":0},{"x":1,"y":0},{"x":2,"y":0},{"x":1,"y":0},{"x":0,"y":1},{"x":0,"y":4},{"x":0,"y":1},{"x":0,"y":2},{"x":1,"y":6},{"x":0,"y":1},{"x":1,"y":1},{"x":0,"y":2},{"x":1,"y":0},{"x":6,"y":6},{"x":12,"y":3},{"x":3,"y":7},{"x":2,"y":0},{"x":2,"y":2},{"x":1,"y":0},{"x":1,"y":0},{"x":3,"y":2},{"x":5,"y":0},{"x":6,"y":3},{"x":2,"y":10},{"x":5,"y":7},{"x":2,"y":4},{"x":0,"y":2},{"x":1,"y":0}]}]';
plot_data = $.parseJSON(strng);
console.log(plot_data);

chart = nv.models.scatterChart()
.margin({
left: 45,
bottom: 45,
})
.showLegend(false);

chart.tooltip.enabled(true);
chart.xAxis.axisLabel("XLab");
chart.yAxis.axisLabel("YLab").axisLabelDistance(-20);


var svg = make_svg('#chart1');
chart_data = svg.datum(plot_data);
chart_data.transition().duration(500).call(chart);

return chart;
});
}()
);

(
function(){
var chart;
var chart_data;

strng = '[{"key":"Plot B","values":[{"y":0,"x":2},{"y":40,"x":5},{"y":0,"x":2},{"y":66.67,"x":3},{"y":100,"x":1},{"y":33.33,"x":3},{"y":40,"x":5},{"y":70,"x":10},{"y":100,"x":1},{"y":0,"x":1},{"y":60,"x":5},{"y":66.67,"x":3},{"y":50,"x":2},{"y":100,"x":1},{"y":0,"x":1},{"y":0,"x":2},{"y":60,"x":10},{"y":100,"x":1},{"y":0,"x":1},{"y":66.67,"x":3},{"y":100,"x":1},{"y":0,"x":1},{"y":0,"x":2},{"y":0,"x":1},{"y":100,"x":1},{"y":100,"x":1},{"y":75,"x":4},{"y":0,"x":1},{"y":25,"x":8},{"y":50,"x":4},{"y":100,"x":1},{"y":100,"x":1},{"y":100,"x":2},{"y":100,"x":3},{"y":100,"x":1},{"y":0,"x":3},{"y":0,"x":3},{"y":100,"x":1},{"y":0,"x":1},{"y":0,"x":1},{"y":0,"x":1},{"y":100,"x":2},{"y":100,"x":1},{"y":0,"x":1},{"y":0,"x":1},{"y":41.67,"x":12},{"y":100,"x":3},{"y":66.67,"x":6},{"y":50,"x":2},{"y":50,"x":2},{"y":0,"x":1},{"y":0,"x":1},{"y":100,"x":3},{"y":20,"x":5},{"y":50,"x":6}]}]';
var plot_data = $.parseJSON(strng);
console.log(plot_data);

nv.addGraph(function(){

chart = nv.models.scatterChart()
.margin({
left: 45,
bottom: 45,
})
.showLegend(false);

chart.tooltip.enabled(true);
chart.xAxis.axisLabel("XLab");
chart.yAxis.axisLabel("YLab").axisLabelDistance(-20);


var svg = make_svg('#chart2');
chart_data = svg.datum(plot_data);
chart_data.call(chart);

return chart;
});
}()
);


});
</script>
</body>
</html>